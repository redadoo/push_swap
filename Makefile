# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    Makefile                                           :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: evocatur <evocatur@student.42.fr>          +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2023/08/30 22:02:43 by fborroto          #+#    #+#              #
#    Updated: 2023/09/22 13:26:39 by evocatur         ###   ########.fr        #
#                                                                              #
# **************************************************************************** #

NAME = push_swap


SRC = $(MAIN_SRC)

MAIN_SRC = src/*.c

OBJ = *.o

CFLAGS = -Wall -Wextra -Werror 

RM = rm -rf

all: $(NAME)

$(NAME): $(OBJ)
	@echo "     - Compiling $(NAME)..."
	@gcc $(CFLAGS) $(OBJ) -o $(NAME)
	@echo $(GREEN)"- Compiled -"
	@rm -rf $(OBJ)

$(OBJ): $(SRC)
	@echo "     - Making object files..."
	@gcc -c $(SRC) $(CFLAGS)

gen: all
	@./$(NAME) $(STACK)

test:all
	@./$(NAME) 5 2 3 
leak:all
	@valgrind --leak-check=full --show-leak-kinds=all ./$(NAME) "311 -462 -261 265 -41 35 194 -433 -97 -466 473 80 125 -105 470 -298 177 -259 432 124 346 -143 -175 135 -15 -492 -201 267 -108 -99 293 -474 466 195 126 -65 482 475 72 -405 57 -103 -187 -365 -442 -48 241 -277 91 158 -116 -47 104 -495 330 -435 301 418 465 178 -275 -313 -182 -211 -475 149 441 401 42 -66 51 59 -85 300 497 -159 438 -80 352 -296 -467 402 -110 -121 -176 205 248 159 -297 421 -158 -221 445 171 -326 369 484 429 233 378 -222 268 481 454 255 -22 31 -499 198 -115 -165 160 -404 -431 218 -447 -52 -236 328 291 -484 -337 -155 479 83 -481 472 290 -18 365 -427 -189 414 -440 82 16 -139 382 212 -332 32 -126 -382 -460 -387 -136 493 -281 428 0 228 220 -438 -3 150 375 230 196 -173 -349 -338 46 -339 -392 383 -322 40 275 28 370 -237 468 140 -151 188 304 25 298 167 -359 -73 387 226 -254 246 309 -16 -321 -279 -347 -340 11 139 -318 -146 347 -166 319 232 292 -384 -44 -170 202 -120 -465 -489 -17 73 -20 -196 -355 -370 -25 294 -396 469 -343 354 12 -436 71 -147 371 307 381 63 373 -93 -149 -150 -119 -212 442 114 -265 -112 234 117 471 147 185 480 208 446 174 -214 278 70 -234 491 -74 -411 143 -430 -471 136 157 235 -491 99 -364 -129 262 -311 224 -388 -7 79 342 -39 -200 351 229 289 54 -398 144 137 166 -434 448 -181 -496 435 -377 -413 242 -344 245 -205 -249 -192 -171 -324 -227 122 190 389 -383 266 -463 416 -141 -9 -406 -378 -224 467 243 -245 -362 490 -451 -206 -28 -369 -300 223 -26 -38 -329 -459 -419 201 199 -477 -289 138 299 400 109 -410 34 -40 -42 53 -37 310 474 -59 320 186 -226 -64 -449 52 360 41 -58 -309 253 487 -291 -472 -476 -263 263 -295 180 306 172 436 225 462 -191 -101 -78 449 123 344 -130 -178 -54 -248 -21 -244 -415 -455 384 76 -400 210 86 145 97 -140 113 163 4 256 -131 430 -269 -167 338 -94 287 -414 67 227 -407 -423 -310 -117 55 461 456 130 -35 -458 282 48 77 -247 183 -353 152 453 396 -1 151 -238 62 209 443 249 464 90 -111 -209 341 -445 404 495 -8 458 -351 -203 -452 47 13 -276 434 357 221 -68 -371 -27 121 192 411 -106 -397 10 -390 94 74 -312 -96 107 285 -325 -172 440 -416 -164 500 239 -10 85 -302 -306 -251 437 -429 478 -299 -153 459 -426 -262 69 -457 193 127 297 270 362 -334 419 36 295 215 101 -90 433 335 39 -87"
clean: 
	@${RM} ${OBJ}

fclean: clean
	@${RM} ${NAME}
	@${RM} ${CHECK}

re: fclean all

.PHONY: all clean fclean re